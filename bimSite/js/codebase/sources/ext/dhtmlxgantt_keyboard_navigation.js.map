{"version":3,"file":"dhtmlxgantt_keyboard_navigation.js","sources":["dhtmlxgantt_keyboard_navigation.js"],"names":["setupKeyNav","gantt","getScope","mode","scopes","$keyboardNavigation","GanttNode","headerCell","HeaderCell","taskRow","TaskRow","taskCell","config","keyboard_navigation","keyboard_navigation_cells","addShortcut","shortcut","handler","scope","scopeObject","prototype","bind","getShortcutHandler","commands","shortcuts","parse","length","findHandler","removeShortcut","unbind","focus","disp","dispatcher","enable","getActiveNode","focusNode","setDefaultNode","_compose","parts","Array","slice","call","arguments","res","i","obj","p","createCommand","modifiers","shift","alt","ctrl","meta","keyCode","expr","this","getExpressions","trim","words","getWords","command","j","commandKeys","specialKeys","charCodeAt","push","getCommandFromEvent","domEvent","shiftKey","altKey","ctrlKey","metaKey","which","printableKey","String","fromCharCode","toLowerCase","getHashFromEvent","getHash","join","junctionChar","split","term","combinationChar","replace","backspace","tab","enter","esc","space","up","down","left","right","home","end","pageup","pagedown","delete","insert","plus","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","EventHandler","_handlers","hash","doAction","e","preventDefault","returnValue","bindAll","map","initKeys","keys","getFocusableNodes","_getFocusableNodes","trapFocus","root","focusable","currentFocus","document","activeElement","currentIndex","lastItem","firstItem","blur","disable","$container","setAttribute","removeAttribute","isEnabled","hasAttribute","scrollHorizontal","dir","date","dateFromPos","getScrollState","x","step","add","scale_unit","scrollTo","posFromDate","scrollVertical","top","y","row_height","alt+left","alt+right","alt+up","alt+down","ctrl+z","undo","ctrl+r","redo","KeyNavNode","isValid","fallback","moveTo","element","setActiveNode","compareTo","b","canStringifyThis","toString","canStringifyThat","getNode","node","index","show_grid","getVisibleTaskCount","getGridColumns","visibleColumns","cells","$grid_scale","childNodes","columns","rootLevel","getChildren","root_id","TaskCell","enter, space","click","ctrl+enter","createTask","taskId","isTaskExists","getTaskIndex","header","visibleTasks","_order","nextIndex","undefined","isTaskVisible","$grid","querySelector","task_attribute","getTaskNode","showTask","apply","nextElement","prevTask","getPrev","nextTask","getNext","getState","selected_task","selectTask","unselectTask","ctrl+left","close","ctrl+right","open","$click","buttons","showLightbox","columnIndex","row","isModal","modalsStack","afterPopup","box","setTimeout","startModal","eventRemove","event","endModal","pop","isTopModal","window","target","currentTarget","traceLightbox","getLightbox","saveFocus","focusElement","restoreFocus","attachEvent","isActive","activeNode","globalNode","getDefaultNode","focusGlobalNode","blurNode","el","keyDownHandler","ganttNode","focusHandler","onReady","detachEvent","refreshTask","id","currentNode","_smart_render","updateRender","_redrawItems","renderers","items","item","setInterval","parent","_locate_css","parentNode","Gantt","plugin"],"mappings":"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"}